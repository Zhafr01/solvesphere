import{u as g,j as e,H as u,L as n}from"./app-BogXYbJ6.js";import{A as h}from"./AuthenticatedLayout-BQ-gjTkP.js";/* empty css            */function j({auth:s,report:t}){const{data:d,setData:r,put:l,processing:i}=g({status:t.status,admin_note:t.admin_note||""}),o=a=>{a.preventDefault(),l(route("reports.update",t.id))},m=s.user.id===t.user_id,x=(new Date-new Date(t.created_at))/6e4<15,c=s.user.role==="admin"||s.user.role==="super_admin"||s.user.role==="partner_admin";return e.jsxs(h,{user:s.user,header:e.jsx("h2",{className:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight",children:t.title}),children:[e.jsx(u,{title:t.title}),e.jsx("div",{className:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg",children:e.jsxs("div",{className:"p-6 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h2",{className:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight",children:t.title}),m&&x&&e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(n,{href:route("reports.edit",t.id),className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded",children:"Edit Report"}),e.jsx(n,{href:route("reports.destroy",t.id),method:"delete",as:"button",className:"bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded",children:"Delete Report"})]})]}),e.jsx("div",{className:"flex items-start mt-4",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["By ",e.jsx("span",{className:"text-blue-500 hover:underline",children:t.user?.name||"Unknown User"})]}),e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:new Date(t.created_at).toLocaleDateString()}),e.jsx("div",{className:"mt-4 text-gray-800 dark:text-gray-200",children:e.jsxs("p",{className:"text-lg font-semibold",children:["Category: ",t.category]})}),e.jsx("div",{className:"mt-4 text-gray-800 dark:text-gray-200",children:e.jsx("p",{children:t.content})}),t.attachment&&e.jsxs("div",{className:"mt-4",children:[e.jsx("p",{className:"text-lg font-semibold text-gray-800 dark:text-gray-200",children:"Attachment:"}),e.jsx("a",{href:`/storage/${t.attachment}`,target:"_blank",className:"text-blue-500 hover:underline",children:"View Attachment"})]})]})}),e.jsx("div",{className:"mt-4",children:e.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full 
                            ${t.status==="pending"?"bg-yellow-200 text-yellow-800":t.status==="in_progress"?"bg-blue-200 text-blue-800":"bg-green-200 text-green-800"}`,children:t.status.replace("_"," ")})}),t.admin_note&&e.jsxs("div",{className:"mt-6 p-4 bg-gray-100 dark:bg-gray-700 rounded-lg",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-800 dark:text-gray-200",children:"Admin Note:"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:t.admin_note})]}),c&&e.jsx("form",{onSubmit:o,className:"mt-6 border-t pt-4 dark:border-gray-700",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"status",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Status"}),e.jsxs("select",{id:"status",name:"status",className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md",value:d.status,onChange:a=>r("status",a.target.value),children:[e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"in_progress",children:"In Progress"}),e.jsx("option",{value:"resolved",children:"Resolved"})]})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{htmlFor:"admin_note",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Admin Note"}),e.jsx("textarea",{id:"admin_note",name:"admin_note",rows:"1",className:"mt-1 block w-full shadow-sm sm:text-sm border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-300 rounded-md",value:d.admin_note,onChange:a=>r("admin_note",a.target.value)})]}),e.jsx("div",{className:"pt-5",children:e.jsx("button",{type:"submit",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",disabled:i,children:"Update"})})]})})]})})]})}export{j as default};
