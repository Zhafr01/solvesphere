import{u as h,j as e,H as g,L as d}from"./app-BogXYbJ6.js";import{A as m}from"./AuthenticatedLayout-BQ-gjTkP.js";/* empty css            */function v({auth:u,topics:t,filters:s}){const{data:a,setData:n,get:o,processing:p}=h({search:s.search||"",category:s.category||"",status:s.status||"",partner_id:s.partner_id||""}),i=r=>{const{name:l,value:c}=r.target;n(l,c),o(route("forum-topics.index"),{preserveState:!0,preserveScroll:!0,data:{...a,[l]:c}})},x=r=>{r.preventDefault(),o(route("forum-topics.index"))};return e.jsxs(m,{user:u.user,header:e.jsx("h2",{className:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight",children:"Forum"}),children:[e.jsx(g,{title:"Forum"}),e.jsx("div",{className:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg",children:e.jsxs("div",{className:"p-6 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700",children:[e.jsx("div",{className:"mb-4",children:e.jsx("form",{onSubmit:x,children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("input",{type:"text",name:"search",placeholder:"Search topics...",className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 dark:text-gray-300 dark:bg-gray-700 dark:border-gray-600 leading-tight focus:outline-none focus:shadow-outline",value:a.search,onChange:r=>n("search",r.target.value)}),e.jsxs("select",{name:"category",className:"shadow appearance-none border rounded py-2 px-3 text-gray-700 dark:text-gray-300 dark:bg-gray-700 dark:border-gray-600 leading-tight focus:outline-none focus:shadow-outline",value:a.category,onChange:i,children:[e.jsx("option",{value:"",children:"All Categories"}),e.jsx("option",{value:"General",children:"General"}),e.jsx("option",{value:"Technical",children:"Technical"}),e.jsx("option",{value:"Feedback",children:"Feedback"})]}),e.jsxs("select",{name:"status",className:"shadow appearance-none border rounded py-2 px-3 text-gray-700 dark:text-gray-300 dark:bg-gray-700 dark:border-gray-600 leading-tight focus:outline-none focus:shadow-outline",value:a.status,onChange:i,children:[e.jsx("option",{value:"",children:"All Statuses"}),e.jsx("option",{value:"unsolved",children:"Unsolved"}),e.jsx("option",{value:"solved",children:"Solved"})]}),e.jsx("button",{type:"submit",className:"ml-2 bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded",children:"Filter"})]})})}),e.jsx(d,{href:route("forum-topics.create",{partner_id:a.partner_id}),className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded mb-4 inline-block",children:"Create Topic"}),e.jsx("div",{className:"space-y-4",children:t.data.length>0?t.data.map(r=>e.jsx("div",{className:"p-4 border dark:border-gray-700 rounded-lg shadow-sm bg-white dark:bg-gray-800",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("img",{src:r.user?.profile_picture?r.user.profile_picture.startsWith("http")||r.user.profile_picture.startsWith("data:")?r.user.profile_picture:`/storage/${r.user.profile_picture}`:`https://i.pravatar.cc/50?u=${r.user_id}`,alt:r.user?.name||"Unknown User",className:"h-10 w-10 rounded-full mr-4 object-cover"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-gray-200",children:e.jsx(d,{href:route("forum-topics.show",r.id),className:"text-blue-500 hover:underline",children:r.title})}),e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:new Date(r.created_at).toLocaleDateString()})]}),e.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["By ",e.jsx("span",{className:"text-blue-500 hover:underline",children:r.user?.name||"Unknown User"}),r.user?.role==="admin"&&e.jsx("span",{className:"ml-2 px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-blue-100 text-blue-800",children:"Admin"})]})]}),e.jsxs("div",{className:"ml-4 text-sm text-gray-500 text-center",children:[e.jsx("div",{children:r.comments_count}),e.jsx("div",{children:"replies"})]})]})},r.id)):e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"No topics found."})})]})}),e.jsx("div",{className:"mt-4",children:t.links&&t.links.map((r,l)=>e.jsx(d,{href:r.url||"#",className:`px-4 py-2 border rounded ${r.active?"bg-blue-500 text-white":"bg-white text-gray-700"} ${r.url?"":"opacity-50 cursor-not-allowed"}`,dangerouslySetInnerHTML:{__html:r.label}},l))})]})}export{v as default};
